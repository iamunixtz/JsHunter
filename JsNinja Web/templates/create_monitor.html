{% extends "base.html" %}

{% block title %}Create Monitor - Rezon{% endblock %}

{% block content %}
<div class="flex flex-between mb-3">
    <h1>Create JavaScript Monitor</h1>
    <a href="{{ url_for('monitors') }}" class="btn btn-outline">Back to Monitors</a>
</div>

<div class="card" style="max-width: 600px; margin: 0 auto;">
    <div class="card-header">Monitor Configuration</div>
    <div class="card-body">
        <form method="POST">
            <div class="form-group">
                <label class="form-label">Project *</label>
                <select class="form-select" name="project_id" required>
                    <option value="">Select a project</option>
                    {% for project in projects %}
                    <option value="{{ project.id }}">{{ project.name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Monitor Name *</label>
                <input type="text" class="form-control" name="name" required placeholder="e.g., Main App JS">
            </div>
            
            <div class="form-group">
                <label class="form-label">JavaScript URL *</label>
                <input type="url" class="form-control" name="url" required placeholder="https://example.com/js/app.js">
            </div>
            
            <div class="form-group">
                <label class="form-label">Check Interval</label>
                <select class="form-select" name="check_interval">
                    <option value="300">5 minutes</option>
                    <option value="600">10 minutes</option>
                    <option value="1800">30 minutes</option>
                    <option value="3600">1 hour</option>
                    <option value="7200">2 hours</option>
                    <option value="21600">6 hours</option>
                    <option value="43200">12 hours</option>
                    <option value="86400">24 hours</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Notifications</label>
                <div class="checkbox">
                    <input type="checkbox" name="telegram_enabled" id="telegram">
                    <label for="telegram">Send Telegram notifications</label>
                </div>
                <div class="checkbox">
                    <input type="checkbox" name="discord_enabled" id="discord">
                    <label for="discord">Send Discord notifications</label>
                </div>
                <small>Configure notification settings in <a href="{{ url_for('settings') }}">Settings</a></small>
            </div>
            
            <div class="flex flex-between">
                <a href="{{ url_for('monitors') }}" class="btn btn-outline">Cancel</a>
                <button type="submit" class="btn">Create Monitor</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
